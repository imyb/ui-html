const b=function(){const s={TABNAV:'[data-ui="tabnav"]',TABLIST:'[role="tablist"]',TAB:'[role="tab"]',TABPANEL:'[role="tabpanel"]'},E=e=>{n(e.target)},P=e=>{A(e)},T=e=>{L(e)},R=()=>{document.querySelectorAll(s.TABNAV).length&&document.querySelectorAll(s.TABNAV).forEach(e=>{S(e)})},S=e=>{if(typeof e=="string"&&(e=document.querySelector(e)),!e||e.dataset.ui!=="tabnav"){console.error("tabNav : 유효한 DOM 요소인지 확인",e);return}e.config=e.config||{init:!1},!e.config.init&&(e.querySelectorAll(s.TAB).forEach(d=>{I(d)}),e.addEventListener("keydown",P),e.addEventListener("focusout",T),e.config.init=!0)},I=e=>{if(typeof e=="string"&&(e=document.querySelector(e)),!e||e.getAttribute("role")!=="tab"){console.error("tab : 유효한 DOM 요소인지 확인",e);return}if(e.config=e.config||{init:!1},e.config.init)return;const d=e.dataset.name,t=e.parentNode,o=N(e),l=t.classList.contains("is-active");o||console.warn(`연결 된 ${s.TABPANEL} 요소 없음`,e),d&&o&&(e.id||(e.id="___TAB___"+d),o.id||(o.id="___TABPANEL___"+d),e.setAttribute("aria-controls",o.id),o.setAttribute("aria-labelledby",e.id)),l?a(e):c(e),e.addEventListener("click",E),e.config.init=!0},N=e=>document.querySelector(`${s.TABPANEL}[data-name="${e.dataset.name}"]`),n=e=>{if(typeof e=="string"&&(e=document.querySelector(e)),!e||e.getAttribute("role")!=="tab"){console.error("tab : 유효한 DOM 요소인지 확인",e);return}const d=e.closest(s.TABLIST),t=e.parentNode,o=N(e),l=t.classList.contains("is-active"),i=e.hasAttribute("disabled");if(!d){console.error(`${s.TABLIST} : 유효한 DOM 요소인지 확인`,d);return}l||i||(o||console.warn(`연결 된 ${s.TABPANEL} 요소 없음`,e),a(e),C(e),d.querySelectorAll(s.TAB).forEach(O=>{O!==e&&c(O)}))},a=e=>{const d=e.parentNode,t=N(e);e.tabIndex=0,e.setAttribute("aria-selected",!0),d.classList.add("is-active"),t&&(t.classList.add("is-active"),t.setAttribute("aria-hidden",!1))},c=e=>{const d=e.parentNode,t=N(e);e.tabIndex=-1,e.setAttribute("aria-selected",!1),d.classList.remove("is-active"),t&&(t.classList.remove("is-active"),t.setAttribute("aria-hidden",!0))},A=e=>{if(e.key==="ArrowRight"||e.key==="ArrowLeft"){e.preventDefault();const d=e.target,t=d.closest(s.TABLIST),o=d.parentNode,l=t&&Array.from(t.children),i=t&&l.filter(f=>!f.firstElementChild.hasAttribute("disabled"));if(!t){console.error(`${s.TABLIST} : 유효한 DOM 요소인지 확인`,t);return}let O=i.indexOf(o),g=0;e.key==="ArrowRight"&&(g=O+1,g>=i.length&&(g=0)),e.key==="ArrowLeft"&&(g=O-1,g<0&&(g=i.length-1)),i[g].firstElementChild.focus(),i[g].firstElementChild.tabIndex=0,i.forEach((f,m)=>{m!==g&&(f.firstElementChild.tabIndex=-1)})}},L=e=>{const d=e.currentTarget;d.contains(e.relatedTarget)||d.querySelectorAll(s.TAB).forEach(t=>{t.getAttribute("aria-selected")==="true"?t.tabIndex=0:t.tabIndex=-1})},C=e=>{const d=e.closest(s.TABNAV),t=e.closest(s.TABLIST),o=e.parentNode;if(d.clientWidth>=t.offsetWidth)return;const l=o.offsetWidth+parseFloat(window.getComputedStyle(o).marginLeft)+parseFloat(window.getComputedStyle(o).marginRight),O=o.offsetLeft-parseFloat(window.getComputedStyle(o).marginLeft)-d.clientWidth/2+l/2;d.scrollTo({left:O,behavior:"smooth"})};return{init:R,setupTab:I,setupTabNav:S,change:n}},v=function(){const s={ACCORDION:'[data-ui="accordion"]',ACCORDION_ITEM:'[data-accordion="item"]',ACCORDION_TRIGGER:'[data-accordion="trigger"]',ACCORDION_PANEL:'[data-accordion="panel"]'},E=n=>{S(n.target)},P=()=>{document.querySelectorAll(s.ACCORDION).length&&document.querySelectorAll(s.ACCORDION).forEach(n=>{T(n)})},T=n=>{if(typeof n=="string"&&(n=document.querySelector(n)),!n||n.dataset.ui!=="accordion"){console.error("accordion : 유효한 DOM 요소인지 확인",n);return}n.config=n.config||{init:!1},!n.config.init&&(n.querySelectorAll(s.ACCORDION_TRIGGER).forEach(a=>{R(a)}),n.config.init=!0)},R=n=>{if(typeof n=="string"&&(n=document.querySelector(n)),!n||n.dataset.accordion!=="trigger"){console.error("accordionTrigger : 유효한 DOM 요소인지 확인",n);return}if(n.config=n.config||{init:!1},n.config.init)return;n.closest(s.ACCORDION);const a=n.closest(s.ACCORDION_ITEM),c=a&&a.querySelector(s.ACCORDION_PANEL),A=a&&a.classList.contains("is-active"),L=a&&a.classList.contains("is-disabled"),C=n.dataset.name;if(!a){console.error(`${s.ACCORDION_ITEM} : 유효한 DOM 요소인지 확인`);return}c||console.warn(`연결 된 ${s.ACCORDION_PANEL} 요소 없음`,n),c&&(n.id||(n.id="___ACCORDION_TRIGGER___"+C),c.id||(c.id="___ACCORDION_PANEL___"+C),n.setAttribute("aria-controls",c.id),c.setAttribute("aria-labelledby",n.id),L&&(n.disabled=!0),A?I(n):N(n)),n.addEventListener("click",E),n.config.init=!0},S=n=>{n.closest(s.ACCORDION);const a=n.closest(s.ACCORDION_ITEM);a&&a.querySelector(s.ACCORDION_PANEL),a&&a.classList.contains("is-disabled"),a&&a.classList.contains("is-active")?N(n):I(n)},I=n=>{if(typeof n=="string"&&(n=document.querySelector(n)),!n||n.dataset.accordion!=="trigger"){console.error("accordionTrigger : 유효한 DOM 요소인지 확인",n);return}const a=n.closest(s.ACCORDION),c=n.closest(s.ACCORDION_ITEM),A=c&&c.querySelector(s.ACCORDION_PANEL),L=c&&c.classList.contains("is-disabled"),C=c&&c.classList.contains("is-active"),e=A&&A.firstElementChild,d=A?e.offsetHeight+parseFloat(window.getComputedStyle(e).marginTop)+parseFloat(window.getComputedStyle(e).marginBottom):0;if(!c){console.error(`${s.ACCORDION_ITEM} : 유효한 DOM 요소인지 확인`);return}if(!A){console.warn(`연결 된 ${s.ACCORDION_PANEL} 요소 없음`,n);return}L&&!C||(c.classList.add("is-active"),n.setAttribute("aria-expanded",!0),A&&(A.setAttribute("aria-hidden",!1),A.style.maxHeight=d+"px"),!L&&a.dataset.type!=="toggle"&&a.querySelectorAll(s.ACCORDION_TRIGGER).forEach(t=>{t!==n&&N(t)}))},N=n=>{if(typeof n=="string"&&(n=document.querySelector(n)),!n||n.dataset.accordion!=="trigger"){console.error("accordionTrigger : 유효한 DOM 요소인지 확인",n);return}n.closest(s.ACCORDION);const a=n.closest(s.ACCORDION_ITEM),c=a&&a.querySelector(s.ACCORDION_PANEL),A=a&&a.classList.contains("is-disabled"),L=a&&a.classList.contains("is-active");a&&c&&(A&&L||(a.classList.remove("is-active"),n.setAttribute("aria-expanded",!1),c&&(c.setAttribute("aria-hidden",!0),c.style.maxHeight="")))};return{init:P,open:I,close:N}},W=()=>{const s={DROPDOWN:'[data-ui="dropdown"]',DROPDOWN_TOGGLE:'[data-dropdown="toggle"]',DROPDOWN_MENU:'[data-dropdown="menu"]',DROPDOWN_MENUITEM:".dropdown-item"};let E={};const P=t=>{const o=t.target.closest(s.DROPDOWN);n(o)},T=t=>{document.querySelectorAll(s.DROPDOWN).forEach(o=>{if(o.config&&!o.config.init)return;const l=o.querySelector(s.DROPDOWN_TOGGLE),i=o.querySelector(s.DROPDOWN_MENU);l.getAttribute("aria-expanded")=="true"&&(l.contains(t.target)||i.contains(t.target)||E.open&&E.open===o&&E.activeElement===document.activeElement||E.close&&E.close!==o&&E.activeElement===document.activeElement||c(o))})},R=()=>{document.querySelectorAll(s.DROPDOWN).forEach(t=>{t.config&&!t.config.init||!(t.querySelector(s.DROPDOWN_TOGGLE).getAttribute("aria-expanded")=="true")||A(t,t.state.direction)})},S=t=>{d(t)},I=()=>{document.querySelectorAll(s.DROPDOWN).length&&document.querySelectorAll(s.DROPDOWN).forEach(t=>{N(t)})},N=t=>{if(typeof t=="string"&&(t=document.querySelector(t)),!t||t.dataset.ui!=="dropdown"){console.error("dropdown : 유효한 DOM 요소인지 확인",t);return}if(t.config=t.config||{init:!1,direction:{}},t.config.init)return;t.config.direction={down:!0,up:!1,left:!1,right:!1,center:!1,alignstart:!0,alignend:!1,full:!1},t.dataset.direction&&t.dataset.direction.split(",").forEach(i=>{i=i.trim(),t.config.direction.hasOwnProperty(i)&&(t.config.direction[i]=!0,t.config.direction.down=!t.config.direction.up,t.config.direction.alignstart=!t.config.direction.alignend,t.config.direction.center&&(t.config.direction.left=!1,t.config.direction.right=!1,t.config.direction.alignstart=!1,t.config.direction.alignend=!1,t.config.direction.full=!1),t.config.direction.full&&(t.config.direction.left=!1,t.config.direction.right=!1,t.config.direction.center=!1,t.config.direction.alignstart=!1,t.config.direction.alignend=!1))}),t.state=t.state||{},t.state.direction=Object.assign({},t.config.direction);const o=t.querySelector(s.DROPDOWN_TOGGLE),l=t.querySelector(s.DROPDOWN_MENU);if(!o){console.error(`${s.DROPDOWN_TOGGLE} : 유효한 DOM 요소인지 확인`,t);return}if(!l){console.error(`${s.DROPDOWN_MENU} : 유효한 DOM 요소인지 확인`,t);return}o.setAttribute("aria-expanded",!1),l.setAttribute("aria-hidden",!0),o.addEventListener("click",P),t.removeEventListener("keydown",S),t.addEventListener("keydown",S),t.config.init=!0},n=(t,o)=>{if(typeof t=="string"&&(t=document.querySelector(t)),!t||t.dataset.ui!=="dropdown"){console.error("dropdown : 유효한 DOM 요소인지 확인",t);return}const l=t.querySelector(s.DROPDOWN_TOGGLE);t.querySelector(s.DROPDOWN_MENU);const i=l.getAttribute("aria-expanded")=="true";o?(E.activeElement=document.activeElement,o==="open"?(E.open=t,E.close=null,a(E.open)):(E.open=null,E.close=t,c(E.close))):(E={},i?c(t):a(t))},a=t=>{const o=t.querySelector(s.DROPDOWN_TOGGLE),l=t.querySelector(s.DROPDOWN_MENU);if(o.getAttribute("aria-expanded")=="true")return;Object.keys(t.config.direction).forEach(f=>{t.config.direction[f]&&t.classList.add(`drop-${f}`)}),t.state.menuWidth=l.offsetWidth,t.state.menuHeight=l.offsetHeight,A(t,t.config.direction),t.classList.add("is-expanded"),o.setAttribute("aria-expanded",!0),l.setAttribute("aria-hidden",!1);const O=()=>{t.removeEventListener("transitionend",O)};t.addEventListener("transitionend",O),Array.from(document.querySelectorAll(s.DROPDOWN)).filter(f=>f.classList.contains("is-expanded")).length&&(document.addEventListener("click",T),window.addEventListener("scroll",R),window.addEventListener("resize",R))},c=t=>{const o=t.querySelector(s.DROPDOWN_TOGGLE),l=t.querySelector(s.DROPDOWN_MENU);if(!(o.getAttribute("aria-expanded")=="true"))return;t.classList.remove("is-expanded");const O=()=>{o.setAttribute("aria-expanded",!1),l.setAttribute("aria-hidden",!0),Object.keys(t.config.direction).forEach(f=>{t.classList.remove(`drop-${f}`)}),l.style.transform="",l.style.right="",t.removeEventListener("transitionend",O)};t.addEventListener("transitionend",O),Array.from(document.querySelectorAll(s.DROPDOWN)).filter(f=>f.classList.contains("is-expanded")).length||(document.removeEventListener("click",T),window.removeEventListener("scroll",R),window.removeEventListener("resize",R))},A=(t,o)=>{t.querySelector(s.DROPDOWN_TOGGLE);const l=t.querySelector(s.DROPDOWN_MENU),i=Object.assign({},o),O=L(t,i);Object.keys(O).forEach(u=>{t.classList.toggle(`drop-${u}`,O[u])});const g=C(t,O),f=g.translateX,m=g.translateY,r=g.positionRight;l.style.transform=`translate(${f}, ${m})`,l.style.right=`${r}`,t.state.direction=O},L=(t,o)=>{const l=t.config.direction,i=o,O=t.querySelector(s.DROPDOWN_TOGGLE),g=t.querySelector(s.DROPDOWN_MENU);let f=document.documentElement.clientWidth,m=window.innerHeight,r=e(O),u=e(g);u.width=t.state.menuWidth,u.height=t.state.menuHeight,i.left=l.left,i.right=l.right,i.alignend=l.alignend,i.alignstart=l.alignstart,i.center=l.center,i.full=l.full;const _=(y,p)=>{p&&(i.up=!0,i.down=!1),y&&(i.up=!1,i.down=!0),!p&&!y&&(i.down=l.down,i.up=l.up),p&&y&&(i.down=l.down,i.up=l.up)};if(i.down||i.up){let y=r.bottom+u.height>m,p=r.top-u.height<0,h=r.left<u.width-r.width,D=f-r.right<u.width-r.width;_(p,y),D&&!h&&(console.log("UP/DOWN : rightOut && !leftOut"),i.alignend=!0,i.alignstart=!1),h&&!D&&(console.log("UP/DOWN : leftOut && !rightOut"),i.alignend=!1,i.alignstart=!0),h&&D&&(console.log("UP/DOWN : leftOut && rightOut"),i.center=!0),!D&&!h&&console.log("UP/DOWN : left/right In")}if(i.left||i.right){let y=r.top+u.height>m,p=r.bottom-u.height<0,h=r.left<u.width,D=f-r.right<u.width;_(p,y),h&&!D&&(console.log("LEFT/RIGHT : leftOut"),i.left=!1,i.right=!0,i.alignend=!1,i.alignstart=!1),D&&!h&&(console.log("LEFT/RIGHT : rightOut"),i.left=!0,i.right=!1,i.alignend=!1,i.alignstart=!1),h&&D&&(console.log("LEFT/RIGHT : leftOut && rightOut"),i.left=!1,i.right=!1),!h&&!D&&console.log("LEFT/RIGHT : left/right In")}if(i.center){let y=r.bottom+u.height>m,p=r.top-u.height<0,h=r.left+(r.width-u.width)/2<0,D=r.right-(r.width-u.width)/2>f;_(p,y),D&&!h&&(console.log("CENTER : rightOut && !leftOut"),i.alignend=!0,i.alignstart=!1),h&&!D&&(console.log("CENTER : leftOut && !rightOut"),i.alignend=!1,i.alignstart=!0),!D&&!h&&(console.log("CENTER : left/right In"),i.alignend=!1,i.alignstart=!1),h&&D&&(console.log("CENTER : leftOut && rightOut"),i.alignend=!1,i.alignstart=!1,i.full=!0)}if(i.alignend||i.alignstart){let y=r.bottom+u.height>m,p=r.top-u.height<0,h=r.left<u.width-r.width,D=f-r.right<u.width-r.width;_(p,y),D&&!h&&(console.log("ALIGN : rightOut"),i.alignend=!0,i.alignstart=!1,i.center=!1),h&&!D&&(console.log("ALIGN : leftOut"),i.alignend=!1,i.alignstart=!0,i.center=!1),h&&D&&(console.log("ALIGN : leftOut && rightOut"),i.alignend=!1,i.alignstart=!1,i.center=!1,i.full=!0),!D&&!h&&(console.log("ALIGN : left/right In"),i.center=!1)}return i.full&&(i.center=!1),i},C=(t,o)=>{const l=o,i=t.querySelector(s.DROPDOWN_TOGGLE),O=t.querySelector(s.DROPDOWN_MENU);let g=document.documentElement.clientWidth,f=e(i),m=e(O),r=0,u=0,_="";return(l.left||l.right)&&(l.left&&(r="-100%"),l.right&&(r=f.width+"px"),l.up&&(u=f.height+"px"),l.down&&(u=-f.height+"px")),l.center&&(r="-50%"),l.alignend&&(r=f.width-m.width+"px"),l.full&&(r=-f.left+"px",u=0,_=f.width-g+"px"),{translateX:r,translateY:u,positionRight:_}},e=t=>{const o={};return o.width=t.offsetWidth,o.height=t.offsetHeight,o.outerWidth=t.offsetWidth+parseFloat(window.getComputedStyle(t).marginLeft)+parseFloat(window.getComputedStyle(t).marginRight),o.outerHeight=t.offsetHeight+parseFloat(window.getComputedStyle(t).marginTop)+parseFloat(window.getComputedStyle(t).marginBottom),o.left=t.getBoundingClientRect().left,o.right=t.getBoundingClientRect().right,o.top=t.getBoundingClientRect().top,o.bottom=t.getBoundingClientRect().bottom,o},d=t=>{const o=t.target.closest(s.DROPDOWN),l=o.querySelector(s.DROPDOWN_TOGGLE),O=o.querySelector(s.DROPDOWN_MENU).querySelectorAll(s.DROPDOWN_MENUITEM),g=Array.from(O).filter(u=>!u.hasAttribute("disabled")),f=g[0],m=g[g.length-1];let r=g.indexOf(document.activeElement);t.key==="ArrowDown"&&(t.preventDefault(),r<0?(a(o),f.focus()):r<g.length-1&&(r++,g[r].focus())),t.key==="ArrowUp"&&(t.preventDefault(),r<0?(a(o),m.focus()):r>0&&(r--,g[r].focus())),t.key==="Tab"&&(t.target===l&&t.shiftKey||t.target===m&&!t.shiftKey)&&c(o),t.key==="Escape"&&(c(o),l.focus())};return{init:I,setup:N,toggle:n}},x=b(),M=v(),q=W();export{M as a,q as d,x as t};
